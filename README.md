# btzp
Репозиторий команды "BTZP" на НТО 2025 по профилю "Летающая робототехника"
# Техническое задание
Задача инженерного тура заключается в разработке системы автоматизированного мониторинга объектов ТЭК при помощи квадрокоптера.  
https://github.com/nto2025-lr/btzp/tree/main
Программистам необходимо запрограммировать дрон для инспекции нефтепровода на предмет несанкционированных врезок и определение тепловых потерь системы теплоснабжения. Помимо этого требуется разработать сервис для визуализации результатов мониторинга на карте в режиме реального времени.

Конструкторское задание включает разработку двух устройств, расширяющих функционал квадрокоптера, и инфраструктуры, позволяющей ему выполнять задачи по наблюдению за объектами ТЭЧ.
# Программное решение 
## Ежедневные задачи
### День 1
Проверка оборудования и получение ТЗ.
### День 2
Настройка дрона и написание программного кода для движения коптера по участкам теплосети, а также создание сайта.
### День 3
Обработка изображение с тепловизора, запись видео при пролёте над участками теплосети, определение участков теплопотерь, пролет над нефтепроводом.
### День 4
Создание фотографий нелегальных врезок, создание матрици температур.
### Для решения технического задания было использовано:
- Для распознавания невтепровода и незаконных врезок, а также работы с тепловизором  - библиотека `cv2`;
- Для создания сайта - класс `Flask`;
- Для приема JSON-файла с сайта - библиотека `requests`;
- Для преобразование координат изображения в координаты по "aruco_map" - функция `image_geometry()`;
- Для определения координат линии - функция `line_temp()`;
- Для передачи заряда батареи на сайт - функция `battery_callback()`;
- Для полёта - функция `navigate_wait()`;
- Для ожидания посадки и дизарма коптера - функция `land_wait()`;
- Для обработки изображения - цикличная функция `image_callback()`;
### Описание за что отвечает каждый файл программного кода
[`index.html`](https://github.com/nto2025-lr/btzp/blob/main/static/index.html), [`style.css`](https://github.com/nto2025-lr/btzp/blob/main/static/style.css), [`script.js`](https://github.com/nto2025-lr/btzp/blob/main/static/script.js) - фронтенд сайта

[`main.py`](https://github.com/nto2025-lr/btzp/blob/main/main.py) - отвечает за инициализацию сайта и обработку кнопок

[`ros_script.py`](https://github.com/nto2025-lr/btzp/blob/main/ros_script.py) - отвечает за всю работу с дроном
[`bottom.py`](https://github.com/nto2025-lr/btzp/blob/main/bottom.py) - отвечает за функции кнопок

# Конструкторское решение
### День 1
Проверка оборудования и получение ТЗ.
### День 2
Разработка устройства и частичная сборка.
### День 3
Конец разработки устройства, создание полной 3D-модели, разработка документации. Полная сборка устройства написание кода для Arduino.
### День 4
Доработка устройства, тестирование, финальный зачёт и испытание.

## Расположение файлов
Вся документация разработанного устройства (3D модель, изображение 3D модели и самого устройства, видеодемонстрация работающего устройства, программный код для устройства и вся требуемая в - инженерной части документация) представлена в папке [`Техническая часть`](https://github.com/nto2025-lr/btzp/tree/main/%D0%A2%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B0%D1%8F%20%D1%87%D0%B0%D1%81%D1%82%D1%8C)
